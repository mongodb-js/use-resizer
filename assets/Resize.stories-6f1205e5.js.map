{"version":3,"file":"Resize.stories-6f1205e5.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../src/utils.ts","../../src/use-resizer.ts","../../src/stories/box.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import { useCallback, useState } from \"react\";\r\nimport type { Coordinates, Dimensions, Options, Ref } from \"./types\";\r\n\r\nconst DEFAULT_DIMENSIONS: Dimensions = {\r\n  width: Infinity,\r\n  height: Infinity,\r\n};\r\n\r\nexport const useResizerStates = (ref: Ref, options: Options) => {\r\n  const { axis = \"both\" } = options;\r\n\r\n  const [coords, setCoords] = useState<Coordinates>({\r\n    x: Infinity,\r\n    y: Infinity,\r\n  });\r\n  const [initialSize, setInitialSize] =\r\n    useState<Dimensions>(DEFAULT_DIMENSIONS);\r\n  const [size, _setSize] = useState<Dimensions>(DEFAULT_DIMENSIONS);\r\n  const [isResizing, setIsResizing] = useState(false);\r\n\r\n  const setSize = useCallback(\r\n    (width = Infinity, height = Infinity) => {\r\n      if (!ref.current) return;\r\n\r\n      if (axis === \"horizontal\") {\r\n        ref.current.style.width = width + \"px\";\r\n        _setSize({ height: initialSize.height, width });\r\n      } else if (axis === \"vertical\") {\r\n        ref.current.style.height = height + \"px\";\r\n        _setSize({ width: initialSize.width, height });\r\n      } else {\r\n        ref.current.style.width = width + \"px\";\r\n        ref.current.style.height = height + \"px\";\r\n        _setSize({ width, height });\r\n      }\r\n    },\r\n    [axis, initialSize.height, initialSize.width, ref]\r\n  );\r\n\r\n  const getDimensions = (event: MouseEvent) => ({\r\n    width: getSize(initialSize.width + event.clientX - coords.x, options),\r\n    height: getSize(initialSize.height + event.clientY - coords.y, options),\r\n  });\r\n\r\n  const updateSizeWhenWithinBounds = useCallback(\r\n    (width: number, height: number) => {\r\n      const widthOOB = isWidthOutOfBounds(width, options);\r\n      const heightOOB = isHeightOutOfBounds(height, options);\r\n\r\n      switch (true) {\r\n        case axis === \"both\" && (widthOOB || heightOOB):\r\n        case axis === \"horizontal\" && widthOOB:\r\n        case axis === \"vertical\" && heightOOB:\r\n          break;\r\n        default:\r\n          setSize(width, height);\r\n      }\r\n    },\r\n    [axis, options, setSize]\r\n  );\r\n\r\n  return {\r\n    coords,\r\n    setCoords,\r\n    initialSize,\r\n    setInitialSize,\r\n    size,\r\n    setSize,\r\n    isResizing,\r\n    setIsResizing,\r\n    getDimensions,\r\n    updateSizeWhenWithinBounds,\r\n  };\r\n};\r\n\r\nconst isWidthOutOfBounds = (\r\n  width: number,\r\n  { maxWidth = Infinity, minWidth = 0 }: Options\r\n) => width > maxWidth || width < minWidth;\r\n\r\nconst isHeightOutOfBounds = (\r\n  height: number,\r\n  { maxHeight = Infinity, minHeight = 0 }: Options\r\n) => height > maxHeight || height < minHeight;\r\n\r\nconst getSize = (input: number, { step = 1 }: Options) =>\r\n  Math.ceil(input / step) * step;\r\n","import type { MouseEventHandler } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport type { Options, Ref } from \"./types\";\r\nimport { useResizerStates } from \"./utils\";\r\n\r\nexport const useResizer = (ref: Ref, options: Options) => {\r\n  const {\r\n    setCoords,\r\n    setInitialSize,\r\n    size,\r\n    setSize,\r\n    isResizing,\r\n    setIsResizing,\r\n    getDimensions,\r\n    updateSizeWhenWithinBounds,\r\n  } = useResizerStates(ref, options);\r\n\r\n  const initResize: MouseEventHandler<HTMLDivElement> = (event) => {\r\n    if (!ref.current) return;\r\n    event.preventDefault();\r\n\r\n    setCoords({ x: event.clientX, y: event.clientY });\r\n    const { width, height } = window.getComputedStyle(ref.current);\r\n    setInitialSize({\r\n      width: parseInt(width, 10),\r\n      height: parseInt(height, 10),\r\n    });\r\n    setIsResizing(true);\r\n  };\r\n\r\n  const resetSize = () => setSize(options.initialWidth, options.initialHeight);\r\n\r\n  useEffect(() => {\r\n    const doDrag = (event: MouseEvent) => {\r\n      if (!ref.current || !isResizing) return;\r\n\r\n      const { width, height } = getDimensions(event);\r\n      updateSizeWhenWithinBounds(width, height);\r\n    };\r\n\r\n    const stopDrag = () => {\r\n      setIsResizing(false);\r\n      document.removeEventListener(\"mousemove\", doDrag, false);\r\n      document.removeEventListener(\"mouseup\", stopDrag, false);\r\n    };\r\n\r\n    document.addEventListener(\"mousemove\", doDrag, false);\r\n    document.addEventListener(\"mouseup\", stopDrag, false);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousemove\", doDrag, false);\r\n      document.removeEventListener(\"mouseup\", stopDrag, false);\r\n    };\r\n  }, [\r\n    getDimensions,\r\n    isResizing,\r\n    ref,\r\n    setIsResizing,\r\n    updateSizeWhenWithinBounds,\r\n  ]);\r\n\r\n  return { resetSize, initResize, isResizing, size };\r\n};\r\n","import { useRef } from \"react\";\r\nimport type { Options } from \"../\";\r\nimport { useResizer } from \"../\";\r\nimport \"./box.css\";\r\n\r\ntype Direction =\r\n  | \"west\"\r\n  | \"east\"\r\n  | \"east-west\"\r\n  | \"north\"\r\n  | \"south\"\r\n  | \"north-south\"\r\n  | \"south-east\";\r\ntype Props = Options & {\r\n  direction: Direction;\r\n};\r\n\r\nexport const Box = (props: Props) => {\r\n  const resizeRef = useRef<HTMLDivElement>(null);\r\n\r\n  const { initResize, isResizing, resetSize, size } = useResizer(\r\n    resizeRef,\r\n    props\r\n  );\r\n\r\n  const displaySize =\r\n    isResizing && size.height !== Infinity && size.width !== Infinity;\r\n\r\n  const hasReset = props.initialHeight || props.initialWidth;\r\n\r\n  const northWest = (\r\n    <>\r\n      {props.direction === \"west\" && (\r\n        <div className=\"resize-bar-west\" onMouseDown={initResize} />\r\n      )}\r\n      {props.direction === \"north\" && (\r\n        <div className=\"resize-bar-north\" onMouseDown={initResize} />\r\n      )}\r\n    </>\r\n  );\r\n\r\n  const southEast = (\r\n    <>\r\n      {(props.direction === \"east\" || props.direction === \"south-east\") && (\r\n        <div\r\n          className={`resize-bar-east ${\r\n            props.direction === \"south-east\" ? \"cursor-nswse\" : \"cursor-ew\"\r\n          }`}\r\n          onMouseDown={initResize}\r\n        />\r\n      )}\r\n      {(props.direction === \"south\" || props.direction === \"south-east\") && (\r\n        <div\r\n          className={`resize-bar-south ${\r\n            props.direction === \"south-east\" ? \"cursor-nswse\" : \"cursor-ns\"\r\n          }`}\r\n          onMouseDown={initResize}\r\n        />\r\n      )}\r\n      <div className=\"corner\" />\r\n    </>\r\n  );\r\n\r\n  const box = (\r\n    <>\r\n      <div ref={resizeRef} className=\"box\">\r\n        {northWest}\r\n        <div className=\"size-info\">\r\n          {displaySize && `${size.height}px x ${size.width}px`}\r\n        </div>\r\n        {southEast}\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <>\r\n        <div className=\"fix-left-edge\">{box}</div>\r\n        {hasReset && (\r\n          <button className=\"reset-button\" onClick={resetSize}>\r\n            Reset Box\r\n          </button>\r\n        )}\r\n      </>\r\n    </div>\r\n  );\r\n};\r\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","__name","reactJsxRuntime_production_min","module","DEFAULT_DIMENSIONS","useResizerStates","ref","options","axis","coords","setCoords","useState","initialSize","setInitialSize","size","_setSize","isResizing","setIsResizing","setSize","useCallback","width","height","getDimensions","event","getSize","updateSizeWhenWithinBounds","widthOOB","isWidthOutOfBounds","heightOOB","isHeightOutOfBounds","maxWidth","minWidth","maxHeight","minHeight","input","step","useResizer","initResize","resetSize","useEffect","doDrag","stopDrag","Box","props","resizeRef","useRef","displaySize","hasReset","northWest","jsxs","Fragment","jsx","southEast","box"],"mappings":"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","x_google_ignoreList":[0,1]}